<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Testimoni Customer - aNNo Ecovera</title>
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    /* VARIABEL WARNA & STYLE DASAR DARI FAQ.HTML */
    :root {
      --mint: #b9f3e4;
      --sky: #c8e7ff;
      --lemon: #fff7a5;
      --accent: #8bd3ff;
      --text-dark: #222;
      --bg: #eef3f8;
      --card: rgba(255, 255, 255, 0.8);
      --brand-eco: #4ecdc4;
    }

    * { box-sizing: border-box; }
    
    html, body { 
      margin: 0; 
      padding: 0; 
      font-family: 'Inter', sans-serif; 
      background: linear-gradient(135deg, var(--mint), var(--sky));
      color: var(--text-dark); 
      scroll-behavior: smooth; 
      overflow-x: hidden;
      width: 100%;
    }
    /* POPUP TESTIMONI - GLASSMORPHISM BRAND */
.popup-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.35);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 3000;
  opacity: 0;
  pointer-events: none;
  transition: .4s ease;
  backdrop-filter: blur(3px);
}

.popup-overlay.show {
  opacity: 1;
  pointer-events: auto;
}

.popup-box {
  max-width: 340px;
  width: 88%;
  padding: 28px 24px;
  border-radius: 20px;
  text-align: center;
  font-family: 'Montserrat', sans-serif;
  animation: popScale .4s ease;
  position: relative;
}

/* efek glass */
.glass {
  background: linear-gradient(
    135deg,
    rgba(185, 243, 228, 0.65),
    rgba(200, 231, 255, 0.55)
  );
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255,255,255,0.5);
  box-shadow: 0 12px 30px rgba(0,0,0,0.25);
}

/* animasi muncul */
@keyframes popScale {
  from { transform: scale(0.85) translateY(10px); opacity: 0; }
  to { transform: scale(1) translateY(0); opacity: 1; }
}

.popup-box h3 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 22px;
  font-weight: 800;
  color: #222;
}

.popup-box p {
  font-size: 15px;
  color: #333;
  line-height: 1.7;
}

.popup-btn {
  margin-top: 22px;
  display: flex;
  gap: 12px;
  justify-content: center;
}

/* tombol brand */
.btn-testi {
  background: linear-gradient(to right, rgba(78,205,196,0.9), rgba(139,211,255,0.9));
  color: white;
  padding: 11px 18px;
  border-radius: 12px;
  text-decoration: none;
  font-weight: 800;
  letter-spacing: .3px;
  transition: .3s;
  box-shadow: 0 6px 16px rgba(0,0,0,0.25);
}

.btn-testi:hover {
  transform: translateY(-3px) scale(1.03);
  box-shadow: 0 10px 24px rgba(0,0,0,0.35);
}

.btn-lanjut {
  background: rgba(255,255,255,0.6);
  border: 1px solid rgba(255,255,255,0.8);
  padding: 11px 18px;
  border-radius: 12px;
  font-weight: 700;
  cursor: pointer;
  transition: .3s;
}

.btn-lanjut:hover {
  background: rgba(255,255,255,0.9);
}

    /* NAVBAR & HAMBURGER DARI FAQ.HTML */
    nav { position: fixed; top: 14px; left: 50%; transform: translateX(-50%); width: 92%; max-width: 1100px; display: flex; justify-content: space-between; align-items: center; padding: .45rem .9rem; background: rgba(255, 255, 255, 0.85); border-radius: 16px; box-shadow: 0 4px 16px rgba(0,0,0,.06); z-index: 1000; }
    .nav-left h1 { margin: 0; font-size: 1.05rem; font-weight: 900; font-family: 'Montserrat'; letter-spacing:.8px;}
    .brand-outline { color: var(--brand-eco); font-weight: 900; text-shadow: -1px 0 0 #fff, 1px 0 0 #fff, 0 -1px 0 #fff, 0 1px 0 #fff; letter-spacing: 0.8px; }

    .hamburger { width: 34px; height: 26px; padding: 4px; display: flex; flex-direction: column; justify-content: space-between; cursor: pointer; position: relative; }
    .hamburger span { height: 3px; background: #222; border-radius: 4px; transition: .3s; }
    .hamburger.active span { opacity: 0; }
    .hamburger-close { position: absolute; inset: 0; display: flex; align-items: center; justify-content: center; font-size: 1.4rem; font-weight: 800; opacity: 0; pointer-events: none; transition: .2s; }
    .hamburger.active .hamburger-close { opacity: 1; }

    .nav-menu { position: fixed; top: 20px; right: -320px; width: 300px; background: white; padding: 20px; border-radius: 14px; box-shadow: -6px 8px 28px rgba(0,0,0,.15); transition: .3s; z-index: 1200; font-family: 'Montserrat'; }
    .nav-menu.open { right: 20px; }
    .nav-menu a { display: block; padding: 10px 6px; font-weight: 700; color: inherit; text-decoration: none; }
    .menu-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; font-weight: 800; }
    .menu-close { font-size: 1.6rem; cursor: pointer; line-height: 1; }
    .overlay { position: fixed; inset: 0; opacity: 0; background: rgba(0,0,0,.25); pointer-events: none; transition: .3s; z-index: 1100; }
    .overlay.show { opacity: 1; pointer-events: auto; }

    /* FLOATING WHATSAPP DARI FAQ.HTML */
    #waFloat {
      position: fixed; right: 20px; bottom: 20px; width: 64px; height: 64px; border-radius: 50%; 
      color: white; display: flex; align-items: center; justify-content: center; font-size: 22px; 
      z-index: 2000; border: 1px solid var(--lemon); cursor: pointer;
      font-family: 'Montserrat', sans-serif; font-weight: 800; letter-spacing: 1.3px;
      background: linear-gradient(to right, rgba(78,205,196,0.85), rgba(0,0,0,0.45));
      text-decoration: none; transition: 0.3s;
    }
    #waFloat:hover { transform: translateY(-4px); box-shadow: 0 12px 28px rgba(0,0,0,0.35); }

    /* STYLE KONTEN TESTIMONI (DARI TESTIMONI.HTML) */
    .content-wrapper {
      max-width: 1000px;
      margin: 100px auto 40px;
      padding: 0 20px;
    }

    h2 {
      font-family: 'Montserrat', sans-serif;
      font-size: 28px;
      text-align: center;
      margin-bottom: 30px;
      letter-spacing: 0.4px;
    }

    #approvedList {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(270px, 1fr));
      gap: 22px;
    }

    .card {
      background: #fff;
      border-radius: 16px;
      padding: 18px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.08);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      animation: fadeUp 0.6s ease forwards;
      opacity: 0;
    }

    @keyframes fadeUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .header { display: flex; justify-content: space-between; align-items: center; }
    .name { font-family: 'Montserrat', sans-serif; font-size: 17px; font-weight: 700; color: #222; }
    .badge { background: #2ecc71; color: white; font-size: 12px; padding: 4px 8px; border-radius: 20px; font-weight: 600; }
    .product { font-size: 14px; color: #666; margin-top: 4px; }
    .rating { margin: 8px 0; }
    .star { width: 18px; height: 18px; fill: #ffb703; margin-right: 2px; }
    .card p { font-size: 15px; line-height: 1.7; margin: 10px 0; color: #333; }
    .thumb { width: 100%; max-height: 200px; object-fit: cover; border-radius: 12px; margin-top: 12px; cursor: pointer; transition: transform 0.3s ease; }
    .thumb:hover { transform: scale(1.03); }

    /* MODAL DARI TESTIMONI.HTML */
    .modal {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.7); display: none; justify-content: center;
      align-items: center; z-index: 9999;
    }
    .modal img {
      max-width: 90%; max-height: 85%; border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4); animation: zoomIn 0.3s ease;
    }
    @keyframes zoomIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    footer { text-align: center; padding: 1rem; background: white; font-weight: 700; font-family: 'Inter'; margin-top: 50px; }
    /* ===== OVERRIDE POPUP TEXT (AMAN, TANPA NGUBAH CSS LAMA) ===== */
.popup-box h3 {
  color: #ffffff;
  font-size: 24px;
  letter-spacing: 0.4px;
  text-shadow: 0 2px 8px rgba(0,0,0,0.25);
}

.popup-box p {
  color: rgba(255,255,255,0.95);
  font-size: 19px;
  line-height: 1.9;
  text-shadow: 0 1px 6px rgba(0,0,0,0.2);
}

/* polish glass popup biar lebih kontras tapi nggak lebay */
.popup-box.glass {
  background: linear-gradient(
    135deg,
    rgba(78, 205, 196, 0.75),
    rgba(139, 211, 255, 0.65)
  );
}
/* ===== STICKY FOOTER AMAN (TANPA UBAH HTML) ===== */
html, body {
  height: 100%;
}

body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

footer {
  margin-top: auto;
}
  </style>
</head>
<body>

<nav>
  <div class="nav-left"><h1>aNNo <span class="brand-outline">ecovera</span></h1></div>
  <div class="hamburger" id="hamburger">
    <span></span><span></span><span></span>
    <span class="hamburger-close">&times;</span>
  </div>
</nav>

<div class="overlay" id="overlay"></div>
<div class="nav-menu" id="navMenu">
  <div class="menu-header"><span>MENU</span><span class="menu-close" id="menuClose">&times;</span></div>
  <a href="index.html#home">Home</a>
  <a href="index.html#produksiCard">Produksi</a>
  <a href="faq.html">FAQ</a>
</div>

<!-- POPUP TESTIMONI GLASS -->
<div class="popup-overlay" id="popupOverlay">
  <div class="popup-box glass">
    <h3>üí¨ Bantu kami jadi lebih baik.</h3>
    <p>Testimoni anda sangat berharga bagi perkembangan aNNo Ecovera :) 
Hanya butuh 1 menit untuk berbagi pengalaman anda üôè</p>
    <div class="popup-btn">
      <a href="https://forms.gle/https://forms.gle/f84mYRSKxGBgdB1n6" target="_blank" class="btn-testi">Beri Testimoni</a>
      <button onclick="closePopup()" class="btn-lanjut">Lanjut</button>
    </div>
  </div>
</div>
<div class="content-wrapper">
    <h2>üí¨ Testimoni Customer aNNo Ecovera</h2>
    <div id="approvedList"></div>
</div>

<div class="modal" id="imgModal" onclick="closeModal()">
    <img id="modalImg">
</div>

<footer>CALL US : <i class="fab fa-whatsapp"></i> 083846313448</footer>

<a id="waFloat" 
   href="https://wa.me/6283846313448?text=Halo%20aNNo%20Ecovera,%20saya%20tertarik%20dengan%20produk%20Anda" 
   target="_blank">
  <i class="fab fa-whatsapp"></i>
</a>

<script>
/* SCRIPT NAVBAR DARI FAQ.HTML */
const hamburger = document.getElementById('hamburger');
const navMenu = document.getElementById('navMenu');
const overlay = document.getElementById('overlay');
const menuClose = document.getElementById('menuClose');

hamburger.onclick = () => {
  navMenu.classList.add('open');
  overlay.classList.add('show');
  hamburger.classList.add('active');
};

const closeMenu = () => {
  navMenu.classList.remove('open');
  overlay.classList.remove('show');
  hamburger.classList.remove('active');
};
menuClose.onclick = closeMenu;
overlay.onclick = closeMenu;
document.querySelectorAll('#navMenu a').forEach(link => link.addEventListener('click', closeMenu));

/* SCRIPT TESTIMONI (ASLI DARI TESTIMONI.HTML) */
const approvedURL = "https://opensheet.elk.sh/1jzQkKFgsdxOMnlNnJl1kLlYkO4yE1OyBBSwqKKzxbY0/APPROVED";

function createStars(rating) {
  let stars = "";
  for (let i = 0; i < rating; i++) {
    stars += "<svg class='star' viewBox='0 0 24 24'><path d='M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z'/></svg>";
  }
  return stars;
}

function openModal(src) {
  document.getElementById("modalImg").src = src;
  document.getElementById("imgModal").style.display = "flex";
}

function closeModal() {
  document.getElementById("imgModal").style.display = "none";
}

function loadTestimoni(url) {
  fetch(url)
    .then(res => res.json())
    .then(data => {
      const container = document.getElementById("approvedList");
      container.innerHTML = "";

      if (!data || data.length === 0) {
        container.innerHTML = "<p style='text-align:center; grid-column:1/-1;'>Belum ada testimoni.</p>";
        return;
      }

      data.forEach((row, index) => {
        const nama = row["Nama (boleh inisial)"] || "Customer";
        const produk = row["Produk yang dibeli"] || "";
        const rating = parseInt(row["Rating produk"]) || 0;
        const testi = row["Testi produk aNNo eco-VERA"] || "";
        let foto = row["Upload foto produk"];

        if (foto && foto.includes("drive.google.com")) {
  let fileId = null;

  let match1 = foto.match(/\/d\/(.*?)(\/|$)/);
  let match2 = foto.match(/id=([^&]+)/);

  if (match1 && match1[1]) fileId = match1[1];
  else if (match2 && match2[1]) fileId = match2[1];

  if (fileId) {
    // versi paling stabil buat website
    foto = `https://drive.google.com/thumbnail?id=${fileId}&sz=w1000`;
  }
}

        const card = document.createElement("div");
        card.className = "card";
        card.style.animationDelay = (index * 0.1) + "s";

        let html = `<div>
          <div class='header'>
            <div class='name'>${nama}</div>
            <div class='badge'>Verified Buyer</div>
          </div>
          <div class='product'>${produk}</div>
          <div class='rating'>${createStars(rating)}</div>
          <p>"${testi}"</p>
        </div>`;

        if (foto) {
          html += `<img src="${foto}" class="thumb" onclick="openModal('${foto}')">`;
        }

        card.innerHTML = html;
        container.appendChild(card);
      });
    })
    .catch(err => console.error("Error load testimoni:", err));
}

loadTestimoni(approvedURL);
// POPUP TESTIMONI - GLASS
const popup = document.getElementById("popupOverlay");

window.addEventListener("load", () => {
  setTimeout(() => {
    popup.classList.add("show");
  }, 900); // muncul halus setelah halaman kebuka
});

function closePopup() {
  popup.classList.remove("show");
}
</script>

</body>
</html>
